{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useState, useEffect, useLayoutEffect } from 'react'\r\n\r\ninterface IconProps {\r\n  src: string,\r\n  size?: number,\r\n  interval?: number,\r\n}\r\n\r\ninterface RetrunProps {\r\n  onMouseOver: (e: any) => void,\r\n  onMouseOut: (e: any) => void,\r\n  style: React.CSSProperties\r\n}\r\n\r\nexport function useIcon({ src, size = 64, interval = 20 }: IconProps): RetrunProps {\r\n  const [y, setY] = useState(0)\r\n\r\n  const [direction, setDirection] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const timer = window.setInterval(() => {\r\n      setY(preState => {\r\n        const nextState = preState + size * direction\r\n        if (nextState >= -size * 20 && nextState <= 0) {\r\n          return nextState\r\n        } else {\r\n          return preState\r\n        }\r\n      })\r\n    }, interval)\r\n    return () => window.clearInterval(timer)\r\n  }, [size, interval, direction])\r\n\r\n  useLayoutEffect(() => {\r\n    setDirection(-1)\r\n    const timer = window.setTimeout(() => {\r\n      setDirection(1)\r\n    }, 2000)\r\n    return () => window.clearInterval(timer)\r\n  }, [])\r\n\r\n  const defaultStyles = {\r\n    display: 'block',\r\n    cursor: 'pointer',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover'\r\n  }\r\n\r\n  return {\r\n    onMouseOver: (e) => setDirection(-1),\r\n    onMouseOut: (e) => setDirection(1),\r\n    style: {\r\n      ...defaultStyles,\r\n      width: size,\r\n      height: size,\r\n      backgroundImage: `url(${src})`,\r\n      backgroundPosition: '0 0',\r\n      backgroundPositionY: y\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Icon(iconProps: IconProps) {\r\n  const props = useIcon(iconProps)\r\n\r\n  return (\r\n    <div { ...props as RetrunProps }/>\r\n  )\r\n}\r\n"],"names":["useState","useEffect","useLayoutEffect","React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAcgB,OAAO,CAAC,EAA4C;QAA1C,GAAG,SAAA,EAAE,YAAS,EAAT,IAAI,mBAAG,EAAE,KAAA,EAAE,gBAAa,EAAb,QAAQ,mBAAG,EAAE,KAAA;IAC/C,IAAA,KAAYA,cAAQ,CAAC,CAAC,CAAC,EAAtB,CAAC,QAAA,EAAE,IAAI,QAAe,CAAA;IAEvB,IAAA,KAA4BA,cAAQ,CAAC,CAAC,CAAC,EAAtC,SAAS,QAAA,EAAE,YAAY,QAAe,CAAA;IAE7CC,eAAS,CAAC;QACR,IAAM,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC;YAC/B,IAAI,CAAC,UAAA,QAAQ;gBACX,IAAM,SAAS,GAAG,QAAQ,GAAG,IAAI,GAAG,SAAS,CAAA;gBAC7C,IAAI,SAAS,IAAI,CAAC,IAAI,GAAG,EAAE,IAAI,SAAS,IAAI,CAAC,EAAE;oBAC7C,OAAO,SAAS,CAAA;iBACjB;qBAAM;oBACL,OAAO,QAAQ,CAAA;iBAChB;aACF,CAAC,CAAA;SACH,EAAE,QAAQ,CAAC,CAAA;QACZ,OAAO,cAAM,OAAA,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,GAAA,CAAA;KACzC,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAA;IAE/BC,qBAAe,CAAC;QACd,YAAY,CAAC,CAAC,CAAC,CAAC,CAAA;QAChB,IAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC;YAC9B,YAAY,CAAC,CAAC,CAAC,CAAA;SAChB,EAAE,IAAI,CAAC,CAAA;QACR,OAAO,cAAM,OAAA,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,GAAA,CAAA;KACzC,EAAE,EAAE,CAAC,CAAA;IAEN,IAAM,aAAa,GAAG;QACpB,OAAO,EAAE,OAAO;QAChB,MAAM,EAAE,SAAS;QACjB,gBAAgB,EAAE,WAAW;QAC7B,cAAc,EAAE,OAAO;KACxB,CAAA;IAED,OAAO;QACL,WAAW,EAAE,UAAC,CAAC,IAAK,OAAA,YAAY,CAAC,CAAC,CAAC,CAAC,GAAA;QACpC,UAAU,EAAE,UAAC,CAAC,IAAK,OAAA,YAAY,CAAC,CAAC,CAAC,GAAA;QAClC,KAAK,wBACA,aAAa,KAChB,KAAK,EAAE,IAAI,EACX,MAAM,EAAE,IAAI,EACZ,eAAe,EAAE,SAAO,GAAG,MAAG,EAC9B,kBAAkB,EAAE,KAAK,EACzB,mBAAmB,EAAE,CAAC,GACvB;KACF,CAAA;AACH,CAAC;SAEuB,IAAI,CAAC,SAAoB;IAC/C,IAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;IAEhC,QACEC,4DAAU,KAAoB,EAAI,EACnC;AACH;;;;;"}